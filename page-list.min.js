!function(a){function c(a,b,c){return Math.min(Math.max(a,b),c)}function d(b,d,f,g,h){for(;b.firstChild;)b.removeChild(b.firstChild);var i=b.appendChild(document.createElement("ul"));f=f||h.currentPage,f=h.currentPage=c(f,1,d);var j=c(f+h.displayedPages,0,d),k=c(f-h.displayedPages-1,0,j),l=2*h.displayedPages+1;k=j==d?Math.max(j-l,0):k,j=0==k?Math.min(l,d):j,e(i,f-1,g,h.prevText),k>0&&e(i,1,g),k>1&&e(i,f-l,g,h.rangeText);for(var m=k*h.itemsOnPage;m<h.items&&k<j;)e(i,++k,g),m+=h.itemsOnPage;j<d-1&&e(i,f+l,g,h.rangeText),j<d&&e(i,d,g),e(i,f+1,g,h.nextText),i.setAttribute("class",h.className),a("li#p"+f,i).text(f)}function e(b,c,d,e){var f=b.appendChild(document.createElement("li")),g=a('<a href="#page-'+c+'">'+(e||c)+"</a>");a(f).attr("id","p"+c).append(g.click(function(){d.click(c)}))}var b={items:0,itemsOnPage:1,currentPage:1,displayedPages:3,className:"page-list",rangeText:"&hellip;",prevText:"&lt;",nextText:"&gt;"};a.fn.pagelist=function(c){var e=this;return c=a.extend({},b,c||{}),{currentPage:function(){return c.currentPage},setCurrentPage:function(a){return c.currentPage=a,this},numItems:function(){return c.items},setItems:function(a){return c.items=a,this},itemsOnPage:function(){return c.itemsOnPage},setItemsOnPage:function(a){return c.itemsOnPage=a,this},firstItemOnPage:function(a){return a?(a-1)*c.itemsOnPage:0},getPageFromIndex:function(a){return a?Math.ceil(a/c.itemsOnPage):1},numPages:function(){return Math.ceil(c.items/c.itemsOnPage)},draw:function(a){var b=this.numPages();return e.each(function(e,f){d(f,b,a,this,c)}),this},click:function(a){return c.onClick&&c.onClick(a),this.draw(a)},end:function(){return e}}}}(jQuery);
