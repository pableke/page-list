!function(a){function e(a,b,c){return Math.min(Math.max(a,b),c)}function f(a){return e(a,1,c)}function g(){return c=k.numPages(),k}function h(b,g){for(;b.firstChild;)b.removeChild(b.firstChild);var h=b.appendChild(document.createElement("ul"));d.currentPage=f(g||d.currentPage);var i=e(d.currentPage+d.displayedPages,0,c),k=e(d.currentPage-d.displayedPages-1,0,i),l=2*d.displayedPages+1;k=i==c?Math.max(i-l,0):k,i=0==k?Math.min(l,c):i,j(h,d.currentPage-1,d.prevText),k>0&&j(h,1),k>1&&j(h,d.currentPage-l,d.rangeText);for(var m=k*d.itemsOnPage;m<d.items&&k<i;)j(h,++k),m+=d.itemsOnPage;i<c-1&&j(h,d.currentPage+l,d.rangeText),i<c&&j(h,c),j(h,d.currentPage+1,d.nextText),h.setAttribute("class",d.className),a("li[name='"+d.currentPage+"']",h).text(d.currentPage)}function i(a){k.draw(a),d.onClick&&d.onClick(d.currentPage)}function j(b,c,d){var e=a('<li name="'+c+'"></li>'),f=a('<a href="#page-'+c+'">'+(d||c)+"</a>");a(b).append(e.append(f.click(function(){i(c)})))}var b,c,d={items:0,itemsOnPage:1,currentPage:1,displayedPages:3,className:"page-list",rangeText:"&hellip;",prevText:"&lt;",nextText:"&gt;"},k={currentPage:function(){return d.currentPage},setCurrentPage:function(a){return d.currentPage=a,this},numItems:function(){return d.items},setItems:function(a){return d.items=a,g()},itemsOnPage:function(){return d.itemsOnPage},setItemsOnPage:function(a){return d.itemsOnPage=a,g()},firstItemOnPage:function(a){return a?(a-1)*d.itemsOnPage:0},getPageFromIndex:function(a){return a?Math.ceil(a/d.itemsOnPage):1},numPages:function(){return Math.ceil(d.items/d.itemsOnPage)},draw:function(a){return b.each(function(){h(this,a)}),this},end:function(){return b}};a.fn.pagelist=function(c){return b=this,c&&a.extend(d,c),g()}}(jQuery);
